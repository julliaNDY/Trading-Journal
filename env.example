# ===========================================
# DATABASE (Supabase PostgreSQL)
# ===========================================
# Get this from: Supabase Dashboard > Settings > Database > Connection string > URI
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# ===========================================
# SUPABASE
# ===========================================
# Get these from: Supabase Dashboard > Settings > API
NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="eyJ..."
SUPABASE_SERVICE_ROLE_KEY="eyJ..."

# ===========================================
# APP
# ===========================================
# APP_URL est utilisé côté serveur (runtime) - PRIORITAIRE pour les emails
# NEXT_PUBLIC_APP_URL est utilisé côté client (build-time)
APP_URL="http://localhost:3000"
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Upload directory (relative to project root)
UPLOAD_DIR="public/uploads"

# Backup directory (relative to project root)
BACKUP_DIR="backups"

# ===========================================
# OPENAI (pour transcription vocale)
# ===========================================
# Get this from: https://platform.openai.com/api-keys
# Pricing Whisper: ~$0.006/minute audio
OPENAI_API_KEY="sk-..."

# ===========================================
# BROKER SYNC (optionnel - pour connexion broker)
# ===========================================
# Clé de chiffrement pour les credentials broker (API keys)
# Générer avec: openssl rand -base64 32
# Si non défini, utilise SUPABASE_SERVICE_ROLE_KEY comme fallback
BROKER_ENCRYPTION_KEY=""

# ===========================================
# SCHEDULER (optionnel - pour sync automatique)
# ===========================================
# Secret pour protéger l'endpoint /api/scheduler/broker-sync
# Générer avec: openssl rand -base64 32
# Appelé par cron job ou Vercel Cron
SCHEDULER_SECRET=""
# Alternative pour Vercel Cron (automatiquement défini par Vercel)
# CRON_SECRET=""

# ===========================================
# STRIPE (pour abonnements SaaS)
# ===========================================
# Get these from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_live_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_live_..."
# Get this from: https://dashboard.stripe.com/webhooks
# Créer un webhook endpoint: /api/stripe/webhook
# Events: checkout.session.completed, customer.subscription.*, invoice.*
STRIPE_WEBHOOK_SECRET="whsec_..."

# ===========================================
# MIGRATION (optionnel - pour script de migration uniquement)
# ===========================================
# MYSQL_URL="mysql://user:password@host:port/database"
