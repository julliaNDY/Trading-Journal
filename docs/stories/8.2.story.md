# Story 8.2: Collective Intelligence Dashboard - Peer Benchmarking

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** anonymous peer comparison with similar traders,  
**so that** I can benchmark my performance and identify blind spots.

---

## Acceptance Criteria

1. **AC1**: Service Collective Intelligence créé dans `src/services/ai/collective-intelligence-service.ts`.
2. **AC2**: Matching peers similaires (style, marché, niveau) via vector search.
3. **AC3**: Matching peers < 2s.
4. **AC4**: Dashboard affiche benchmark anonyme (percentile, insights).
5. **AC5**: Anonymisation garantie (RGPD-compliant).
6. **AC6**: Visualisation benchmark (graphiques comparatifs anonymes).

---

## Tasks / Subtasks

- [ ] **Task 1: Collective Intelligence Service** (AC: 1)
  - [ ] 1.1 Créer `src/services/ai/collective-intelligence-service.ts`
  - [ ] 1.2 Service matching peers (vector search)
  - [ ] 1.3 Embeddings utilisateur (stats, patterns, style)
  - [ ] 1.4 Vector search (Qdrant/Pinecone) pour trouver peers similaires

- [ ] **Task 2: Peer Matching** (AC: 2)
  - [ ] 2.1 Calcul embeddings utilisateur (stats, patterns, style)
  - [ ] 2.2 Vector search (Qdrant/Pinecone) pour trouver peers similaires
  - [ ] 2.3 Matching par style (scalper, swing, etc.), marché, niveau
  - [ ] 2.4 Top K peers similaires (ex: top 100)

- [ ] **Task 3: Performance Optimization** (AC: 3)
  - [ ] 3.1 Optimiser matching peers (< 2s)
  - [ ] 3.2 Cache résultats si nécessaire (même utilisateur = mêmes peers)
  - [ ] 3.3 Benchmark performance (< 2s)
  - [ ] 3.4 Async processing si nécessaire (background jobs)

- [ ] **Task 4: Benchmark Dashboard** (AC: 4)
  - [ ] 4.1 Dashboard affiche benchmark anonyme (percentile, insights)
  - [ ] 4.2 Calcul percentile (ex: "Vous tradez mieux que 78% des traders similaires")
  - [ ] 4.3 Insights anonymes (ex: "Les traders similaires qui gagnent plus ont tendance à X")
  - [ ] 4.4 Page `/collective-intelligence` ou section dashboard

- [ ] **Task 5: Anonymization** (AC: 5)
  - [ ] 5.1 Anonymisation garantie (RGPD-compliant)
  - [ ] 5.2 Differential privacy pour agréger insights
  - [ ] 5.3 Pas de données individuelles exposées
  - [ ] 5.4 Validation RGPD compliance

- [ ] **Task 6: Visualization** (AC: 6)
  - [ ] 6.1 Visualisation benchmark (graphiques comparatifs anonymes)
  - [ ] 6.2 Graphique percentile (distribution anonyme)
  - [ ] 6.3 Graphique insights (tendances anonymes)
  - [ ] 6.4 Tableau comparatif anonyme (métriques agrégées)

---

## Dev Notes

- Dépendance : Epic 1 (Vector DB), Epic 4 (AI), Epic 3 (Données collectées), Epic 5 (Analytics).
- ⚠️ **CRITIQUE** : Notification PM requise pour Qdrant/Pinecone API (voir roadmap).
- RGPD compliance : anonymisation garantie, pas de données individuelles.
- Performance critique : < 2s (roadmap).
- Référencer `docs/architecture-trading-path-journal.md` Section 4.2 (Collective Intelligence).
- Référencer `docs/roadmap-trading-path-journal.md` Phase 8 (Collective Intelligence Dashboard).
