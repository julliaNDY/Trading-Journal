# Story 8.3: Voice-First Trading Coach - Real-Time Vocal Coaching

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** real-time vocal coaching during trading,  
**so that** I can get guidance and feedback while trading.

---

## Acceptance Criteria

1. **AC1**: Service Voice-First Trading Coach créé dans `src/services/ai/voice-coach-service.ts`.
2. **AC2**: Coaching vocal temps réel pendant trading (latence < 500ms).
3. **AC3**: Transcription temps réel (Whisper) + génération réponses (GPT-4o) + TTS (ElevenLabs).
4. **AC4**: Multimodal input (utilisateur peut répondre vocalement ou par texte).
5. **AC5**: UI coach vocal (micro flottant + chat).
6. **AC6**: Post-trade debrief vocal automatique.

---

## Tasks / Subtasks

- [ ] **Task 1: Voice Coach Service** (AC: 1)
  - [ ] 1.1 Créer `src/services/ai/voice-coach-service.ts`
  - [ ] 1.2 Service coaching vocal (transcription + génération + TTS)
  - [ ] 1.3 Pipeline : audio → Whisper → GPT-4o → ElevenLabs → audio
  - [ ] 1.4 Gestion conversation (historique messages)

- [ ] **Task 2: Real-Time Coaching** (AC: 2)
  - [ ] 2.1 Coaching vocal temps réel pendant trading
  - [ ] 2.2 Latence coaching < 500ms (critique)
  - [ ] 2.3 Streaming transcription + génération + TTS
  - [ ] 2.4 WebSockets ou SSE pour communication temps réel

- [ ] **Task 3: Transcription & Generation & TTS** (AC: 3)
  - [ ] 3.1 ⚠️ **CRITIQUE** : Notifier PM pour OpenAI Whisper API, GPT-4o API, ElevenLabs TTS API
  - [ ] 3.2 Transcription temps réel (Whisper API streaming)
  - [ ] 3.3 Génération réponses (GPT-4o API streaming)
  - [ ] 3.4 TTS (ElevenLabs API) pour voix naturelle
  - [ ] 3.5 Pipeline optimisé (latence minimale)

- [ ] **Task 4: Multimodal Input** (AC: 4)
  - [ ] 4.1 Utilisateur peut répondre vocalement (micro)
  - [ ] 4.2 Utilisateur peut répondre par texte (input)
  - [ ] 4.3 UI supporte audio + texte
  - [ ] 4.4 Web Audio API pour capture audio navigateur

- [ ] **Task 5: Voice Coach UI** (AC: 5)
  - [ ] 5.1 Composant VoiceCoach dans `src/components/ai/voice-coach.tsx`
  - [ ] 5.2 Micro flottant (dashboard) + chat
  - [ ] 5.3 UI coach vocal (audio input + output, chat)
  - [ ] 5.4 Page `/voice-coach` ou modal/panel dashboard

- [ ] **Task 6: Post-Trade Debrief** (AC: 6)
  - [ ] 6.1 Post-trade debrief vocal automatique
  - [ ] 6.2 Résumé vocal après chaque trade (TTS)
  - [ ] 6.3 Génération résumé (GPT-4o) basé sur trade
  - [ ] 6.4 Lecture résumé vocal (ElevenLabs TTS)

---

## Dev Notes

- Dépendance : Epic 4 (AI), Epic 3 (Données collectées).
- ⚠️ **CRITIQUE** : Notification immédiate PM requise pour OpenAI Voice API (si disponible), Whisper API, GPT-4o API, ElevenLabs TTS API (voir roadmap).
- Performance critique : latence coaching temps réel < 500ms (roadmap).
- Pipeline optimisé : streaming transcription + génération + TTS pour latence minimale.
- Référencer `docs/architecture-trading-path-journal.md` Section 4.3 (Voice-First Trading Coach).
- Référencer `docs/roadmap-trading-path-journal.md` Phase 8 (Voice-First Trading Coach).
