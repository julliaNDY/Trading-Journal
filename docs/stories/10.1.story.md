# Story 10.1: Beta Voting Page - User Interface

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** to vote on potential features/options on a dedicated Beta page,  
**so that** I can influence the product roadmap.

---

## Acceptance Criteria

1. **AC1**: Nouvelle page "Beta" accessible depuis la sidebar gauche (entre "Account" et "Settings").
2. **AC2**: Page affiche liste d'options de vote avec compteurs de votes actuels.
3. **AC3**: Utilisateur peut voter sur chaque option (1 vote par utilisateur par option).
4. **AC4**: Utilisateur peut voir ses propres votes (surbrillance/checked).
5. **AC5**: Page affiche visualisation roadmap (Upcoming=Orange, Completed=Green, In Progress=Blue).
6. **AC6**: Items roadmap pars√©s depuis structure markdown avec indicateurs de statut.

---

## Tasks / Subtasks

- [ ] **Task 1: Page Beta** (AC: 1)
  - [ ] 1.1 Cr√©er `src/app/(dashboard)/beta/page.tsx`
  - [ ] 1.2 Ajouter route dans sidebar navigation (`src/components/layout/sidebar.tsx`)
  - [ ] 1.3 Layout page Beta (Card, Button, Badge)

- [ ] **Task 2: Voting Options Display** (AC: 2)
  - [ ] 2.1 Afficher liste options de vote (VotingOption)
  - [ ] 2.2 Afficher compteurs de votes (voteCount)
  - [ ] 2.3 UI shadcn/ui (Card, Table ou List)

- [ ] **Task 3: Vote Functionality** (AC: 3, 4)
  - [ ] 3.1 Server action `voteOnOption(optionId)` dans `src/app/actions/voting.ts`
  - [ ] 3.2 V√©rifier vote existant (1 vote par user par option)
  - [ ] 3.3 Toggle vote (vote/unvote)
  - [ ] 3.4 UI affiche votes utilisateur (checked/badge)

- [ ] **Task 4: Roadmap Visualization** (AC: 5, 6)
  - [ ] 4.1 Composant `RoadmapVisualization` dans `src/components/beta/roadmap-visualization.tsx`
  - [ ] 4.2 Parser roadmap markdown (structure Phase/Epic)
  - [ ] 4.3 Mapping statuts : üü†=Orange, üü¢=Green, üîµ=Blue
  - [ ] 4.4 Afficher roadmap avec statuts color√©s

- [ ] **Task 5: Data Model** (AC: 3)
  - [ ] 5.1 V√©rifier table `VotingOption` (id, title, description, status)
  - [ ] 5.2 V√©rifier table `Vote` (id, userId, optionId, createdAt)
  - [ ] 5.3 Contrainte unique (userId + optionId) pour pr√©venir doublons

---

## Dev Notes

- D√©pendance : Phase 1 (Foundation), Phase 9 (Landing).
- Composant Beta existe d√©j√† partiellement (`src/app/(dashboard)/beta/page.tsx` et `src/components/beta/roadmap-visualization.tsx`).
- R√©f√©rencer `docs/roadmap-trading-path-journal.md` Phase 10 (Beta & Voting System).
- R√©f√©rencer `docs/roadmap-trading-path-journal.md` Section 3 (Roadmap Visualization Structure).
