# Story 7.1: Voice Notes - Transcription & AI Synthesis Enhancement

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** to record voice notes for trades and daily journal with transcription and AI synthesis,  
**so that** I can quickly capture thoughts and get AI-generated summaries.

---

## Acceptance Criteria

1. **AC1**: Voice Notes existent déjà (trades et journées) - vérifier implémentation complète.
2. **AC2**: Transcription Whisper API fonctionne (trades et journées).
3. **AC3**: Synthèse IA OpenAI (GPT-4o) fonctionne pour notes vocales.
4. **AC4**: Transcription < 5s pour 1 minute audio.
5. **AC5**: Synthèse IA < 3s.
6. **AC6**: UI affiche transcription + synthèse sur page trade/daily journal.

---

## Tasks / Subtasks

- [ ] **Task 1: Voice Notes Review** (AC: 1)
  - [ ] 1.1 Vérifier Voice Notes implémentation (trades et journées)
  - [ ] 1.2 Vérifier composants audio (Web Audio API)
  - [ ] 1.3 Vérifier stockage (Supabase Storage ou filesystem)
  - [ ] 1.4 Identifier gaps (si transcription/synthèse manquantes)

- [ ] **Task 2: Whisper Transcription** (AC: 2)
  - [ ] 2.1 Vérifier transcription Whisper API intégrée
  - [ ] 2.2 Tests transcription (trades et journées)
  - [ ] 2.3 Performance : < 5s pour 1 minute audio
  - [ ] 2.4 Amélioration si nécessaire (caching, error handling)

- [ ] **Task 3: AI Synthesis** (AC: 3)
  - [ ] 3.1 Vérifier synthèse IA OpenAI (GPT-4o) intégrée
  - [ ] 3.2 Tests synthèse (trades et journées)
  - [ ] 3.3 Performance : < 3s
  - [ ] 3.4 Amélioration si nécessaire (caching, error handling)

- [ ] **Task 4: Performance Optimization** (AC: 4, 5)
  - [ ] 4.1 Optimiser transcription (caching, batch processing)
  - [ ] 4.2 Optimiser synthèse (caching, batch processing)
  - [ ] 4.3 Benchmark performance (< 5s transcription, < 3s synthèse)
  - [ ] 4.4 Async processing si nécessaire (background jobs)

- [ ] **Task 5: UI Display** (AC: 6)
  - [ ] 5.1 Vérifier affichage transcription + synthèse sur page trade
  - [ ] 5.2 Vérifier affichage transcription + synthèse sur page daily journal
  - [ ] 5.3 Amélioration UI si nécessaire (formatting, loading states)
  - [ ] 5.4 Tests utilisateurs

---

## Dev Notes

- Dépendance : Epic 4 (AI pour synthèse IA).
- Voice Notes existent déjà partiellement (d'après code existant), vérifier gaps.
- ⚠️ **CRITIQUE** : Notification PM requise pour OpenAI Whisper API et GPT-4o API (voir roadmap).
- Caching résultats transcription/synthèse pour réduire coûts.
- Référencer `docs/roadmap-trading-path-journal.md` Phase 7 (Voice Notes).
