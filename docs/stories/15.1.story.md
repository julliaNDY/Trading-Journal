# Story 15.1: Social Feed - Best Trades/Strategies

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** to share my best trades and strategies in a social feed,  
**so that** I can learn from and inspire other traders.

---

## Acceptance Criteria

1. **AC1**: Page Social Feed affiche trades/stratégies partagés.
2. **AC2**: Utilisateurs peuvent partager trades/stratégies (avec contrôles privacy).
3. **AC3**: Feed supporte likes, comments, follows.
4. **AC4**: Filtrer par instrument, type stratégie, performance.
5. **AC5**: Performance : chargement feed < 2s.

---

## Tasks / Subtasks

- [ ] **Task 1: Social Feed Page** (AC: 1)
  - [ ] 1.1 Créer `src/app/(dashboard)/social/page.tsx`
  - [ ] 1.2 Ajouter route dans sidebar navigation
  - [ ] 1.3 Layout feed (infinite scroll ou pagination)

- [ ] **Task 2: Share Functionality** (AC: 2)
  - [ ] 2.1 Bouton "Share" sur trade detail page
  - [ ] 2.2 Dialog contrôles privacy (public/private/followers-only)
  - [ ] 2.3 Server action `shareTrade(tradeId, privacy)`
  - [ ] 2.4 UI shadcn/ui Dialog, Select, Button

- [ ] **Task 3: Social Interactions** (AC: 3)
  - [ ] 3.1 Tables DB : `SocialPost`, `PostLike`, `PostComment`, `UserFollow`
  - [ ] 3.2 Actions : like, comment, follow
  - [ ] 3.3 Real-time updates (Supabase Realtime ou WebSockets)
  - [ ] 3.4 UI shadcn/ui Button, Badge, Input

- [ ] **Task 4: Filters** (AC: 4)
  - [ ] 4.1 Filtre par instrument (select dropdown)
  - [ ] 4.2 Filtre par type stratégie (select dropdown)
  - [ ] 4.3 Filtre par performance (slider ou select)
  - [ ] 4.4 UI shadcn/ui Select, Slider

- [ ] **Task 5: Performance & Real-time** (AC: 5)
  - [ ] 5.1 Pagination ou infinite scroll pour feed
  - [ ] 5.2 Real-time updates (Supabase Realtime)
  - [ ] 5.3 Cache feed (Redis) - TTL 1min
  - [ ] 5.4 Benchmark chargement (< 2s)

---

## Dev Notes

- Dépendance : Phase 7 (Journalisation & Partage).
- Tables DB : `SocialPost` (id, userId, tradeId, content, privacy, createdAt), `PostLike` (id, userId, postId, createdAt), `PostComment` (id, userId, postId, content, createdAt), `UserFollow` (id, followerId, followingId, createdAt).
- Real-time updates nécessaires pour feed interactif.
- Référencer `docs/roadmap-trading-path-journal.md` Phase 12 (Social Feed & Sharing).
