# Story 12.3: 6-Step Analysis Engine - Macro Analysis

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** Macro economic analysis as part of the 6-step process,  
**so that** I understand macroeconomic context.

---

## Acceptance Criteria

1. **AC1**: Step 2 "Macro" analyse indicateurs macroéconomiques.
2. **AC2**: Source données : ForexFactory API (ou injection manuelle).
3. **AC3**: Prompt AI inclut checklist macro (GDP, inflation, rates, etc.).
4. **AC4**: Analyse retourne évaluation macro structurée.

---

## Tasks / Subtasks

- [ ] **Task 1: Macro Data Integration** (AC: 2)
  - [ ] 1.1 Intégrer ForexFactory API (ou scraping)
  - [ ] 1.2 Fallback : injection manuelle données par utilisateur
  - [ ] 1.3 UI injection manuelle (textarea ou form)
  - [ ] 1.4 ⚠️ **NOTIFICATION PM** : ForexFactory API requise (ou scraping alternative)

- [ ] **Task 2: Macro Analysis** (AC: 1, 3)
  - [ ] 2.1 Google Gemini API avec prompt macro (préféré à OpenAI GPT-4o)
  - [ ] 2.2 Prompt template inclut checklist macro (GDP, inflation, rates, etc.)
  - [ ] 2.3 Analyse retourne évaluation macro structurée
  - [ ] 2.4 Stocker résultats dans `DailyBiasAnalysis.macroAnalysis` (JSON)

---

## Dev Notes

- Dépendance : Phase 3 (AI - Google Gemini API préféré), Phase 2 (Data Collection).
- ⚠️ **NOTIFICATION PM** : Google Gemini API requise (préféré à OpenAI GPT-4o, ou OpenAI en fallback).
- ForexFactory API ou scraping alternative nécessaire.
- Stocker toutes les analyses en JSON (Prisma JSON field).
- Référencer `docs/roadmap-trading-path-journal.md` Phase 11 (6-Step Analysis Engine - Step 2 Macro).
