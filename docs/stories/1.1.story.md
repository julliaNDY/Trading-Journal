# Story 1.1: TimescaleDB Setup + Replay POC

## Status

**Draft**

---

## Story

**As a** platform engineer,  
**I want** a validated TimescaleDB setup for tick storage,  
**so that** Market Replay and backtesting are technically feasible.

---

## Acceptance Criteria

1. **AC1**: TimescaleDB est provisionne et accessible depuis le projet.
2. **AC2**: Une table `ticks` (hypertable) est creee avec compression active.
3. **AC3**: Un dataset d'echantillon (1 jour, 250ms) est charge.
4. **AC4**: Une requete par fenetre temporelle retourne les ticks en < 200ms.
5. **AC5**: Un mini replay (streaming) fonctionne avec 60fps sur 1 jour.

---

## Tasks / Subtasks

- [ ] **Task 1: Provisionner TimescaleDB** (AC: 1)
  - [ ] 1.1 Choisir environnement (local ou managed)
  - [ ] 1.2 Configurer `DATABASE_URL`/credentials

- [ ] **Task 2: Schema ticks + compression** (AC: 2)
  - [ ] 2.1 Creer table `ticks`
  - [ ] 2.2 Activer hypertable + compression

- [ ] **Task 3: Import dataset** (AC: 3)
  - [ ] 3.1 Charger 1 jour de ticks (250ms)

- [ ] **Task 4: Benchmarks** (AC: 4, 5)
  - [ ] 4.1 Mesurer latence requetes
  - [ ] 4.2 Tester streaming replay

---

## Dev Notes

- Referencer `docs/specs/phase-0-poc-plan.md`.
- Documenter les resultats (p50/p95) et taille disque.
