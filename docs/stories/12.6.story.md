# Story 12.6: 6-Step Analysis Engine - Technical Structure

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** Technical Structure analysis as part of the 6-step process,  
**so that** I understand technical market structure.

---

## Acceptance Criteria

1. **AC1**: Step 5 "Technical Structure" analyse indicateurs techniques.
2. **AC2**: Source données : TradingView API ou Barchart (ou injection manuelle).
3. **AC3**: Prompt AI inclut checklist technique (support/resistance, trends, etc.).
4. **AC4**: Analyse retourne évaluation technique structurée.

---

## Tasks / Subtasks

- [ ] **Task 1: Technical Data** (AC: 2)
  - [ ] 1.1 TradingView API ou Barchart API
  - [ ] 1.2 Fallback : injection manuelle données techniques
  - [ ] 1.3 UI injection manuelle indicateurs techniques
  - [ ] 1.4 ⚠️ **NOTIFICATION PM** : TradingView/Barchart API requise

- [ ] **Task 2: Technical Analysis** (AC: 1, 3)
  - [ ] 2.1 Google Gemini API avec prompt technique (préféré à OpenAI GPT-4o)
  - [ ] 2.2 Prompt template inclut checklist technique (support/resistance, trends, etc.)
  - [ ] 2.3 Analyse retourne évaluation technique structurée
  - [ ] 2.4 Stocker résultats dans `DailyBiasAnalysis.technicalAnalysis` (JSON)

---

## Dev Notes

- Dépendance : Phase 3 (AI - Google Gemini API préféré), Phase 2 (Data Collection).
- ⚠️ **NOTIFICATION PM** : Google Gemini API requise (préféré à OpenAI GPT-4o, ou OpenAI en fallback).
- TradingView/Barchart API requise pour données techniques.
- Stocker toutes les analyses en JSON (Prisma JSON field).
- Référencer `docs/roadmap-trading-path-journal.md` Phase 11 (6-Step Analysis Engine - Step 5 Technical Structure).
