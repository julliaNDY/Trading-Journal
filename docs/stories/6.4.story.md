# Story 6.4: Drills Mode - Setup Recognition Training

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** a drills mode to practice recognizing setups without risk,  
**so that** I can improve my pattern recognition skills.

---

## Acceptance Criteria

1. **AC1**: Page `/drills` avec interface drills mode.
2. **AC2**: Mode simulation : présentation setups (sans risque réel).
3. **AC3**: Setup recognition : utilisateur identifie type setup (multiple choice).
4. **AC4**: Feedback après réponse (correct/incorrect, explication).
5. **AC5**: Progression tracking : score drills, historique.
6. **AC6**: Visualisation progression (graphique évolution score).

---

## Tasks / Subtasks

- [ ] **Task 1: Drills Page** (AC: 1)
  - [ ] 1.1 Créer `src/app/(dashboard)/drills/page.tsx`
  - [ ] 1.2 Layout drills (chart + questions + feedback)
  - [ ] 1.3 Navigation (ajouter route dans sidebar)
  - [ ] 1.4 Server component pour données initiales

- [ ] **Task 2: Simulation Mode** (AC: 2)
  - [ ] 2.1 Mode simulation : présentation setups (chart + contexte)
  - [ ] 2.2 Setups depuis historique utilisateur ou exemples
  - [ ] 2.3 Affichage setup (chart TradingView avec contexte)
  - [ ] 2.4 Sans risque réel (simulation uniquement)

- [ ] **Task 3: Setup Recognition** (AC: 3)
  - [ ] 3.1 Questions : utilisateur identifie type setup (multiple choice)
  - [ ] 3.2 Options : type setup (breakout, reversal, continuation, etc.)
  - [ ] 3.3 Formulaire (React Hook Form + Zod)
  - [ ] 3.4 UI shadcn/ui (RadioGroup, Button)

- [ ] **Task 4: Feedback System** (AC: 4)
  - [ ] 4.1 Feedback après réponse (correct/incorrect, explication)
  - [ ] 4.2 Affichage explication (texte + graphique si nécessaire)
  - [ ] 4.3 Score par drill (points gagnés/perdus)
  - [ ] 4.4 UI feedback (Toast, Alert)

- [ ] **Task 5: Progression Tracking** (AC: 5)
  - [ ] 5.1 Data model : table `DrillResult` (userId, setupId, score, createdAt)
  - [ ] 5.2 Stocker résultats drills en DB
  - [ ] 5.3 Calcul score drills (total, moyenne)
  - [ ] 5.4 Affichage progression (dashboard drills)

- [ ] **Task 6: Progression Visualization** (AC: 6)
  - [ ] 6.1 Graphique évolution score (Recharts)
  - [ ] 6.2 Timeline progression (7 jours, 30 jours, all time)
  - [ ] 6.3 Stats : score moyen, progression, meilleur score
  - [ ] 6.4 Tableau historique drills

---

## Dev Notes

- Dépendance : Epic 2 (Market Replay Infrastructure pour données).
- MVP : drills simples (setup recognition). Future : drills complexes.
- Performance : loading rapide (< 2s) pour éviter latence.
- Référencer `docs/roadmap-trading-path-journal.md` Phase 6 (Drills Mode).
