# Story 13.1: Benchmarks Dashboard

## Status

**Draft**

---

## Story

**As a** trader,  
**I want** to compare my performance with anonymized trader benchmarks,  
**so that** I can understand where I stand relative to peers.

---

## Acceptance Criteria

1. **AC1**: Page Benchmarks affiche performance utilisateur vs peers (percentiles).
2. **AC2**: Métriques comparaison : win rate, profit factor, avg RR, etc.
3. **AC3**: Données anonymisées (RGPD-compliant).
4. **AC4**: Matching peers similaires (style, market, level) via vector search.
5. **AC5**: Performance : matching < 2s.

---

## Tasks / Subtasks

- [ ] **Task 1: Benchmarks Page** (AC: 1)
  - [ ] 1.1 Créer `src/app/(dashboard)/benchmarks/page.tsx`
  - [ ] 1.2 Ajouter route dans sidebar navigation
  - [ ] 1.3 Layout page (Card, Table, Charts)

- [ ] **Task 2: Performance Metrics** (AC: 2)
  - [ ] 2.1 Calculer métriques utilisateur (win rate, profit factor, avg RR, etc.)
  - [ ] 2.2 Comparer avec percentiles peers
  - [ ] 2.3 Afficher percentiles (0-100%)
  - [ ] 2.4 Graphiques comparaison (Recharts)

- [ ] **Task 3: Data Anonymization** (AC: 3)
  - [ ] 3.1 Anonymiser données traders (differential privacy)
  - [ ] 3.2 Respecter RGPD (pas de données personnelles)
  - [ ] 3.3 Agréger données (pas d'individualisation)

- [ ] **Task 4: Peer Matching** (AC: 4)
  - [ ] 4.1 Vector search (Qdrant/Pinecone) pour matching peers
  - [ ] 4.2 Matching par style, market, level
  - [ ] 4.3 Embeddings utilisateur basés sur métriques trading
  - [ ] 4.4 ⚠️ **NOTIFICATION PM** : Qdrant/Pinecone API requise

- [ ] **Task 5: Performance Optimization** (AC: 5)
  - [ ] 5.1 Cache matching peers (Redis) - TTL 1h
  - [ ] 5.2 Optimiser vector search (indexes)
  - [ ] 5.3 Benchmark matching (< 2s)

---

## Dev Notes

- Dépendance : Phase 3 (AI - Vector DB), Phase 5 (Analytics).
- Similaire à Epic 8.2 (Collective Intelligence).
- ⚠️ **NOTIFICATION PM** : Qdrant/Pinecone API requise (déjà intégré partiellement).
- Référencer `docs/roadmap-trading-path-journal.md` Phase 12 (Benchmarks & Peer Comparison).
